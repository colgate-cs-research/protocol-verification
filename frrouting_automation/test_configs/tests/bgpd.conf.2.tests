#!/usr/bin/expect -f
set timeout -1
log_file tests.log
spawn vtysh
expect "*#"
send -- "configure terminal\r"
expect "*#"
send -- "no ! Zebra configuration saved from vty\r"
expect "*#"
send -- "! Zebra configuration saved from vty\r"
expect "*#"
send -- "no !   2021/03/14 20:54:09\r"
expect "*#"
send -- "!   2021/03/14 20:54:09\r"
expect "*#"
send -- "no frr version 7.7-dev_git\r"
expect "*#"
send -- "frr version 7.7-dev_git\r"
expect "*#"
send -- "no frr defaults traditional\r"
expect "*#"
send -- "frr defaults traditional\r"
expect "*#"
send -- "no hostname 1c0506ecf01a\r"
expect "*#"
send -- "hostname 1c0506ecf01a\r"
expect "*#"
send -- "router bgp 65002\r"
expect "*#"
send -- "no bgp router-id 2.2.2.2\r"
expect "*#"
send -- "bgp router-id 2.2.2.2\r"
expect "*#"
send -- "no timers bgp 3 9\r"
expect "*#"
send -- "timers bgp 3 9\r"
expect "*#"
send -- "no neighbor 1.1.1.1 remote-as 65001\r"
expect "*#"
send -- "neighbor 1.1.1.1 remote-as 65001\r"
expect "*#"
send -- "no neighbor 1.1.1.1 password hello1\r"
expect "*#"
send -- "neighbor 1.1.1.1 password hello1\r"
expect "*#"
send -- "no neighbor 1.1.1.1 ebgp-multihop 3\r"
expect "*#"
send -- "neighbor 1.1.1.1 ebgp-multihop 3\r"
expect "*#"
send -- "no neighbor 1.1.1.1 update-source lo\r"
expect "*#"
send -- "neighbor 1.1.1.1 update-source lo\r"
expect "*#"
send -- "no neighbor 1.1.1.1 timers 3 10\r"
expect "*#"
send -- "neighbor 1.1.1.1 timers 3 10\r"
expect "*#"
send -- "no neighbor 1.1.1.1 timers connect 10\r"
expect "*#"
send -- "neighbor 1.1.1.1 timers connect 10\r"
expect "*#"
send -- "no neighbor 3.3.3.3 remote-as 65003\r"
expect "*#"
send -- "neighbor 3.3.3.3 remote-as 65003\r"
expect "*#"
send -- "no neighbor 3.3.3.3 password hello3\r"
expect "*#"
send -- "neighbor 3.3.3.3 password hello3\r"
expect "*#"
send -- "no neighbor 3.3.3.3 ebgp-multihop 3\r"
expect "*#"
send -- "neighbor 3.3.3.3 ebgp-multihop 3\r"
expect "*#"
send -- "no neighbor 3.3.3.3 update-source lo\r"
expect "*#"
send -- "neighbor 3.3.3.3 update-source lo\r"
expect "*#"
send -- "no neighbor 3.3.3.3 timers 3 10\r"
expect "*#"
send -- "neighbor 3.3.3.3 timers 3 10\r"
expect "*#"
send -- "no neighbor 3.3.3.3 timers connect 10\r"
expect "*#"
send -- "neighbor 3.3.3.3 timers connect 10\r"
expect "*#"
send -- "exit\r"
expect "*#"
send -- "no line vty\r"
expect "*#"
send -- "line vty\r"
expect "*#"
send -- "exit\r"
expect "*#"
send -- "exit\r"
expect "*#"
send -- "exit\r"
expect eof
