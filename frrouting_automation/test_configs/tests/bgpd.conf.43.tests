#!/usr/bin/expect -f
set timeout -1
log_file tests.log
spawn vtysh
expect "*#"
send -- "configure terminal\r"
expect "*#"
send -- "no ! Zebra configuration saved from vty\r"
expect "*#"
send -- "! Zebra configuration saved from vty\r"
expect "*#"
send -- "no !   2021/03/30 10:52:36\r"
expect "*#"
send -- "!   2021/03/30 10:52:36\r"
expect "*#"
send -- "no frr version 7.7-dev_git\r"
expect "*#"
send -- "frr version 7.7-dev_git\r"
expect "*#"
send -- "no frr defaults traditional\r"
expect "*#"
send -- "frr defaults traditional\r"
expect "*#"
send -- "no hostname r1\r"
expect "*#"
send -- "hostname r1\r"
expect "*#"
send -- "no log file //bgpd.log\r"
expect "*#"
send -- "log file //bgpd.log\r"
expect "*#"
send -- "router bgp 100\r"
expect "*#"
send -- "no bgp router-id 10.0.255.1\r"
expect "*#"
send -- "bgp router-id 10.0.255.1\r"
expect "*#"
send -- "bgp ebgp-requires-policy\r"
expect "*#"
send -- "no bgp ebgp-requires-policy\r"
expect "*#"
send -- "no bgp bestpath as-path multipath-relax\r"
expect "*#"
send -- "bgp bestpath as-path multipath-relax\r"
expect "*#"
send -- "no neighbor 10.0.1.101 remote-as 99\r"
expect "*#"
send -- "neighbor 10.0.1.101 remote-as 99\r"
expect "*#"
send -- "no neighbor 10.0.1.101 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.1.101 timers 3 10\r"
expect "*#"
send -- "no neighbor 10.0.1.102 remote-as 99\r"
expect "*#"
send -- "neighbor 10.0.1.102 remote-as 99\r"
expect "*#"
send -- "no neighbor 10.0.1.102 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.1.102 timers 3 10\r"
expect "*#"
send -- "no neighbor 10.0.1.103 remote-as 99\r"
expect "*#"
send -- "neighbor 10.0.1.103 remote-as 99\r"
expect "*#"
send -- "no neighbor 10.0.1.103 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.1.103 timers 3 10\r"
expect "*#"
send -- "no neighbor 10.0.1.104 remote-as 99\r"
expect "*#"
send -- "neighbor 10.0.1.104 remote-as 99\r"
expect "*#"
send -- "no neighbor 10.0.1.104 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.1.104 timers 3 10\r"
expect "*#"
send -- "no neighbor 10.0.1.105 remote-as 99\r"
expect "*#"
send -- "neighbor 10.0.1.105 remote-as 99\r"
expect "*#"
send -- "no neighbor 10.0.1.105 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.1.105 timers 3 10\r"
expect "*#"
send -- "no neighbor 10.0.2.106 remote-as 99\r"
expect "*#"
send -- "neighbor 10.0.2.106 remote-as 99\r"
expect "*#"
send -- "no neighbor 10.0.2.106 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.2.106 timers 3 10\r"
expect "*#"
send -- "no neighbor 10.0.2.107 remote-as 99\r"
expect "*#"
send -- "neighbor 10.0.2.107 remote-as 99\r"
expect "*#"
send -- "no neighbor 10.0.2.107 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.2.107 timers 3 10\r"
expect "*#"
send -- "no neighbor 10.0.2.108 remote-as 99\r"
expect "*#"
send -- "neighbor 10.0.2.108 remote-as 99\r"
expect "*#"
send -- "no neighbor 10.0.2.108 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.2.108 timers 3 10\r"
expect "*#"
send -- "no neighbor 10.0.2.109 remote-as 99\r"
expect "*#"
send -- "neighbor 10.0.2.109 remote-as 99\r"
expect "*#"
send -- "no neighbor 10.0.2.109 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.2.109 timers 3 10\r"
expect "*#"
send -- "no neighbor 10.0.2.110 remote-as 99\r"
expect "*#"
send -- "neighbor 10.0.2.110 remote-as 99\r"
expect "*#"
send -- "no neighbor 10.0.2.110 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.2.110 timers 3 10\r"
expect "*#"
send -- "no neighbor 10.0.3.111 remote-as 111\r"
expect "*#"
send -- "neighbor 10.0.3.111 remote-as 111\r"
expect "*#"
send -- "no neighbor 10.0.3.111 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.3.111 timers 3 10\r"
expect "*#"
send -- "no neighbor 10.0.3.112 remote-as 112\r"
expect "*#"
send -- "neighbor 10.0.3.112 remote-as 112\r"
expect "*#"
send -- "no neighbor 10.0.3.112 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.3.112 timers 3 10\r"
expect "*#"
send -- "no neighbor 10.0.3.113 remote-as 113\r"
expect "*#"
send -- "neighbor 10.0.3.113 remote-as 113\r"
expect "*#"
send -- "no neighbor 10.0.3.113 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.3.113 timers 3 10\r"
expect "*#"
send -- "no neighbor 10.0.3.114 remote-as 114\r"
expect "*#"
send -- "neighbor 10.0.3.114 remote-as 114\r"
expect "*#"
send -- "no neighbor 10.0.3.114 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.3.114 timers 3 10\r"
expect "*#"
send -- "no neighbor 10.0.3.115 remote-as 115\r"
expect "*#"
send -- "neighbor 10.0.3.115 remote-as 115\r"
expect "*#"
send -- "no neighbor 10.0.3.115 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.3.115 timers 3 10\r"
expect "*#"
send -- "no neighbor 10.0.4.116 remote-as 116\r"
expect "*#"
send -- "neighbor 10.0.4.116 remote-as 116\r"
expect "*#"
send -- "no neighbor 10.0.4.116 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.4.116 timers 3 10\r"
expect "*#"
send -- "no neighbor 10.0.4.117 remote-as 117\r"
expect "*#"
send -- "neighbor 10.0.4.117 remote-as 117\r"
expect "*#"
send -- "no neighbor 10.0.4.117 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.4.117 timers 3 10\r"
expect "*#"
send -- "no neighbor 10.0.4.118 remote-as 118\r"
expect "*#"
send -- "neighbor 10.0.4.118 remote-as 118\r"
expect "*#"
send -- "no neighbor 10.0.4.118 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.4.118 timers 3 10\r"
expect "*#"
send -- "no neighbor 10.0.4.119 remote-as 119\r"
expect "*#"
send -- "neighbor 10.0.4.119 remote-as 119\r"
expect "*#"
send -- "no neighbor 10.0.4.119 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.4.119 timers 3 10\r"
expect "*#"
send -- "no neighbor 10.0.4.120 remote-as 120\r"
expect "*#"
send -- "neighbor 10.0.4.120 remote-as 120\r"
expect "*#"
send -- "no neighbor 10.0.4.120 timers 3 10\r"
expect "*#"
send -- "neighbor 10.0.4.120 timers 3 10\r"
expect "*#"
send -- "exit\r"
expect "*#"
send -- "no line vty\r"
expect "*#"
send -- "line vty\r"
expect "*#"
send -- "exit\r"
expect "*#"
send -- "exit\r"
expect "*#"
send -- "exit\r"
expect eof
